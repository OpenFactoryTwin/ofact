Sphinx Code Documentation How To
================================

This folder holds the configuration for the Code Documentation Creation
with Sphinx. Sphinx is a tool that makes it easy to create intelligent
and beautiful documentation, by using the docstrings in the code to
create the documentation. It is much easier to keep the documentation up
to date, as it is directly in the code. It's output are different
formats like html,pdf or latex. Most of the documentation you find
online is generated by Sphinx.

Installation
------------

You need to have Sphinx installed on your system. You can install it
with pip:

.. code:: bash

   pip install sphinx

You also need to have the theme installed, which is used (Read The Docs
Theme)

.. code:: bash

   pip install sphinx_rtd_theme

And last but not least you need to have AutoApi installed. It is used to
create the rst files for the documentation fully automated. It can be
installed with:

.. code:: bash

   pip install sphinx-autoapi

However the needed packages are also included in the requirements.txt
file, so you can install it with:

.. code:: bash

   pip install -r ./ofact/requirements.txt

It is highly recommended to use a virtual environment for the
installation. Another possibility is conda, which is a package manager
for python. If you use conda, you can install it with:

.. code:: bash

   conda install sphinx
   conda install sphinx_rtd_theme
   conda install sphinx-autoapi

Usage
-----

Using Sphinx is quite easy. I recommend reading the `quick start guide
of
sphinx <https://www.sphinx-doc.org/en/master/usage/quickstart.html>`__.
I've used AutoApi a third party package to create the documentation.
AutoApi has the advantage that it does not need to have all dependencies
installed and does not need to import all the modules. This removes many
pitfalls from the process of creating the documentation. The
disadvantage over a manual creation of the documentation with for
example sphinx.api.autodoc is that you don't have the possiblity to fine
tune every last corner of the documentation. To build the documentation
the command

.. code:: bash

   sphinx-build -b html ./ build

is used. It needs to be executed from the directory ./docs/code_sphinx.
The command sphinx-quickstart was used to create the configuration files
for sphinx, which I have already modified slightly afterwords to support
AutoAPI.

Known Issues
------------

1. Some folders does not include a \__init__.py file. This is needed for
   AutoApi to properly work. The \__init__.py file can be empty, but it
   needs to be there. At the moment the python files in the folders are
   represented as their own entry in the documentation. This makes the
   documentation hard to read, since the documentation groups do not
   respond to the folder structure.

Using the Documentation
-----------------------

After running the script many html files are added to the
./docs/build/html folder. In the folder an index.html can be
found. This file can be opened locally on your computer. Then you can
use the documentation as it is known to you from every other online
documentation.

Gitlab CI
---------

A nice addition would be to add a gitlab pipeline. At the point of
writing this document there has been no runner for the repository.

.. _gitlab-gitignore:

GitHub .gitignore
-----------------

Currently, the output is not configured to be pushed in to the
repository, since it should be created with a pipeline and not locally
to keep it up to date.